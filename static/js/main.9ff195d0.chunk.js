(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(25)},17:function(t,e,n){},21:function(t,e,n){},23:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(8),i=n.n(o),c=n(1),u=n(2),s=n(4),l=n(3),h=n(5),f=(n(17),function t(e){var n=this;Object(c.a)(this,t),this.asNumber=function(){return n.year},this.isLeapYear=function(){return n.year%4===0&&n.year%100!==0||n.year%100===0&&n.year%400===0},this.year=e});f.getCurrentYear=function(){return new f((new Date).getFullYear())};var d=n(10);var y=function t(){Object(c.a)(this,t)};y.START_CALENDAR_HEADER_ON=1;var b=function t(e,n,r){var a=this;Object(c.a)(this,t),this.getDayOfTheWeek=function(){return a.toDate().getDay()},this.isFirstOfMonth=function(){return 1===a.day},this.isLastOfMonth=function(){return a.day===a.month.getNumberOfDays()},this.asNumber=function(){return a.day},this.getMonth=function(){return a.month},this.getYear=function(){return a.year},this.isToday=function(){var t=new Date;return t.getFullYear()===a.year.asNumber()&&t.getMonth()===a.month.asNumber()&&t.getDate()===a.day},this.toDate=function(){return new Date(Date.UTC(a.year.asNumber(),a.month.asNumber(),a.day))},this.year=new f(e),this.month=new v(e,n),this.day=r},m={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,asString:function(t){switch(t){case m.MONDAY:return"Monday";case m.TUESDAY:return"Tuesday";case m.WEDNESDAY:return"Wednesday";case m.THURSDAY:return"Thursday";case m.FRIDAY:return"Friday";case m.SATURDAY:return"Saturday";case m.SUNDAY:return"Sunday"}},getFirstDayOfWeek:function(){return y.START_CALENDAR_HEADER_ON},getLastDayOfWeek:function(){return(m.getFirstDayOfWeek()+6)%7}},v=function t(e,n){var r=this;Object(c.a)(this,t),this.asNumber=function(){return r.month},this.asString=function(){switch(r.month){case O.JANUARY:return"January";case O.FEBRUARY:return"February";case O.MARCH:return"March";case O.APRIL:return"April";case O.MAY:return"May";case O.JUNE:return"June";case O.JULY:return"July";case O.AUGUST:return"August";case O.SEPTEMBER:return"September";case O.OCTOBER:return"October";case O.NOVEMBER:return"November";case O.DECEMBER:return"December"}},this.getNumberOfDays=function(){if(r.month===O.FEBRUARY)return r.year.isLeapYear()?29:28;if([0,2,4,6,7,9,11].indexOf(r.month)>-1)return 31;if([3,5,8,10].indexOf(r.month)>-1)return 30;throw new Error("Unreachable code")},this.getDays=function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(d.a)(Array(t).keys()).map(function(t){return parseInt(t)+e})}(r.getNumberOfDays(),1).map(function(t){return new b(r.year.asNumber(),r.month,t)})},this.getYear=function(){return r.year},this.getNextMonth=function(){var e=r.year.asNumber(),n=r.month+1;return n>O.DECEMBER&&(n=O.JANUARY,e+=1),new t(e,n)},this.getPreviousMonth=function(){var e=r.year.asNumber(),n=r.month-1;return n<O.JANUARY&&(n=O.DECEMBER,e-=1),new t(e,n)},this.year=new f(e),this.month=n};v.getCurrentMonth=function(){var t=new Date;return new v(t.getFullYear(),t.getMonth())};var O={JANUARY:0,FEBRUARY:1,MARCH:2,APRIL:3,MAY:4,JUNE:5,JULY:6,AUGUST:7,SEPTEMBER:8,OCTOBER:9,NOVEMBER:10,DECEMBER:11},p=n(6),E=n.n(p),g=n(9),D=function t(e,n,r,a){var o=this;Object(c.a)(this,t),this.lighten=function(e){var n=o.red+e<=255?o.red+e:255,r=o.green+e<=255?o.green+e:255,a=o.blue+e<=255?o.blue+e:255;return new t(n,r,a,o.alpha)},this.darken=function(e){var n=o.red-e>=0?o.red-e:0,r=o.green-e>=0?o.green-e:0,a=o.blue-e>=0?o.blue-e:0;return new t(n,r,a,o.alpha)},this.toCssString=function(){return"rgba(".concat(o.red,", ").concat(o.green,", ").concat(o.blue,", ").concat(o.alpha,")")},this.red=e,this.green=n,this.blue=r,this.alpha=a};D.RED=new D(255,0,0,1),D.GREEN=new D(0,255,0,1),D.BLUE=new D(0,0,255,1),D.GRAY=new D(128,128,128,1),D.fromHexString=function(t){var e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16);return new D(e,n,r,1)},D.fromString=function(t){return D.fromHexString(function(t){for(var e=0,n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);for(var r="#",a=0;a<3;a++)r+=("00"+(e>>8*a&255).toString(16)).substr(-2);return r}(t))};var j=function t(e,n,r){var a=this;Object(c.a)(this,t),this.getColor=function(){return D.fromString(a.location)},this.startDate=e,this.endDate=n,this.location=r};j.fromRAW=function(t){return new j(new Date(t.startDate),new Date(t.endDate),t.location)};var A=function t(){var e=this;Object(c.a)(this,t),this.getData=Object(g.a)(E.a.mark(function t(){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://gist.githubusercontent.com/mark-poussard/a43eade3e2426b64ca97932a23748fe8/raw/calendar.json",{cache:"no-store"}).then(function(t){return t.json()}).then(function(t){return e.deserializeData(t)}));case 1:case"end":return t.stop()}},t)})),this.deserializeData=function(t){return t.map(function(t){return j.fromRAW(t)})}},k=new function t(){var e=this;Object(c.a)(this,t),this.init=function(){e.dataGetter.getData().then(function(t){return e.data=t}).then(e.doCallbacks)},this.onDataReady=function(t){null!=e.data?e.doCallback(t):e.callbacks.push(t)},this.getEntriesForDate=function(t){if(null==e.data)throw new Error("Data was not ready to consume");var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e.data[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value;t.getTime()>=u.startDate.getTime()&&t.getTime()<=u.endDate.getTime()&&n.push(u)}}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n},this.doCallbacks=function(){var t=!0,n=!1,r=void 0;try{for(var a,o=e.callbacks[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;e.doCallback(i)}}catch(c){n=!0,r=c}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}e.callbacks=[]},this.doCallback=function(t){if(e.callbackLock)throw new Error("Can't call a callback in a callback");e.callbackLock=!0,t(),e.callbackLock=!1},this.dataGetter=new A,this.callbacks=[],this.callbackLock=!1},N=function(t){function e(t){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).call(this,t))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){if(0===this.props.locations.length)return null;var t=[],e=!0,n=!1,a=void 0;try{for(var o,i=this.props.locations[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var c=o.value;t.push(r.createElement("div",{key:"LIST_LOCATION_".concat(c)},c))}}catch(u){n=!0,a=u}finally{try{e||null==i.return||i.return()}finally{if(n)throw a}}return r.createElement("div",{style:{position:"absolute"}},t)}}]),e}(r.Component),R=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).getState=function(){return{entries:k.getEntriesForDate(n.props.day.toDate())}},n.computeGradient=function(){var t="linear-gradient(",e=100/n.state.entries.length,r=0,a=!0,o=!0,i=!1,c=void 0;try{for(var u,s=n.state.entries[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;a||(t+=", "),t+=l.getColor().toCssString()+" "+r+"%, "+l.getColor().toCssString()+" "+(r+e)+"%",r+=e,a=!1}}catch(h){i=!0,c=h}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return t+=")"},n.state=n.getState(),n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(t){t.day.toDate().getTime()!==this.props.day.toDate().getTime()&&this.setState(this.getState())}},{key:"render",value:function(){var t=this.props.day.isToday()?"today":"";return a.a.createElement("div",{className:"calendar-grid-item calendar-block ".concat(t),style:{background:this.computeGradient()}},this.props.day.asNumber(),a.a.createElement(N,{locations:this.state.entries.map(function(t){return t.location})}))}}]),e}(a.a.Component),w=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"calendar-grid-item"})}}]),e}(a.a.Component),S=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).getOffset=function(){var t=n.props.days[0];return t.isFirstOfMonth()?((t.getDayOfTheWeek()-y.START_CALENDAR_HEADER_ON)%7+7)%7:0},n.getBuffer=function(){var t=n.props.days[n.props.days.length-1];return t.isLastOfMonth()?((8-t.getDayOfTheWeek()-y.START_CALENDAR_HEADER_ON)%7+7)%7:0},n.renderOffsetBlocks=function(){for(var t=[],e=0;e<n.getOffset();e++)t.push(a.a.createElement(w,{key:"OFFSET_".concat(e)}));return t},n.renderBufferBlocks=function(){for(var t=[],e=0;e<n.getBuffer();e++)t.push(a.a.createElement(w,{key:"BUFFER_".concat(e)}));return t},n.renderDays=function(){var t=[],e=!0,r=!1,o=void 0;try{for(var i,c=n.props.days[Symbol.iterator]();!(e=(i=c.next()).done);e=!0){var u=i.value;t.push(a.a.createElement(R,{key:"".concat(u.getYear().asNumber(),"-").concat(u.getMonth().asNumber(),"-").concat(u.asNumber()),day:u}))}}catch(s){r=!0,o=s}finally{try{e||null==c.return||c.return()}finally{if(r)throw o}}return t},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",null,this.renderOffsetBlocks(),this.renderDays(),this.renderBufferBlocks())}}]),e}(a.a.Component),C=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).renderEmptyLine=function(){for(var t=[],e=0;e<7;e++)t.push(a.a.createElement(w,null));return t},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{style:{height:"9vw",border:"transparent 1px solid"}},this.renderEmptyLine())}}]),e}(a.a.Component),M=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).state={},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=[],e=[],n=0,r=this.props.month.getDays(),o=!0,i=!1,c=void 0;try{for(var u,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;e.push(l),(l.getDayOfTheWeek()===m.getLastDayOfWeek()||l.isLastOfMonth())&&(t.push(a.a.createElement(S,{key:"CALENDAR_LINE_".concat(n++),days:e})),e=[])}}catch(h){i=!0,c=h}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return t.length<6&&t.push(a.a.createElement(C,null)),a.a.createElement("div",{className:"calendar-body"},t)}}]),e}(a.a.Component),T=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).renderDay=function(t){return a.a.createElement("div",{key:"DAY_LEGEND_".concat(t),className:"calendar-legend"},m.asString(t))},n.getOrderedDays=function(){for(var t=[],e=y.START_CALENDAR_HEADER_ON,n=0;n<7;n++){var r=(n+e)%7;t.push(r)}return t},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=[],e=this.getOrderedDays(),n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var u=i.value;t.push(this.renderDay(u))}}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a.a.createElement("div",null,t)}}]),e}(a.a.Component),Y=function(t){function e(t){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).call(this,t))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",null,this.props.month.asString()+" ",this.props.month.getYear().asNumber())}}]),e}(a.a.Component),L=function(t){function e(t){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).call(this,t))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"calendar-header"},a.a.createElement(Y,{month:this.props.month}),a.a.createElement(T,null))}}]),e}(a.a.Component),U=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).doNextMonth=function(){n.props.setMonth(n.props.month.getNextMonth())},n.doPreviousMonth=function(){n.props.setMonth(n.props.month.getPreviousMonth())},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("a",{onClick:this.doPreviousMonth},"Previous month"),a.a.createElement("a",{onClick:this.doNextMonth},"Next month"))}}]),e}(a.a.Component),B=(n(21),function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).setMonth=function(t){n.setState({month:t})},n.state={month:v.getCurrentMonth()},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(L,{month:this.state.month}),a.a.createElement(M,{month:this.state.month}),a.a.createElement(U,{month:this.state.month,setMonth:this.setMonth}))}}]),e}(a.a.Component)),_=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).state={loading:!0},n}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;k.init(),k.onDataReady(function(){return t.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?a.a.createElement("div",null,"Loading..."):a.a.createElement("div",null,a.a.createElement(B,null))}}]),e}(a.a.Component);n(23);i.a.render(a.a.createElement(_,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.9ff195d0.chunk.js.map